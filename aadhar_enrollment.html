<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aadhaar Enrollment Form - By Kavish Tolani</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --success-color: #4cc9f0;
            --error-color: #f72585;
            --background-color: #f8f9fa;
            --text-color: #2b2d42;
            --card-bg: #ffffff;
            --border-radius: 15px;
            --box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: var(--background-color);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-color);
            background-image: 
                radial-gradient(circle at 100% 100%, rgba(67, 97, 238, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 0% 0%, rgba(76, 201, 240, 0.1) 0%, transparent 50%);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--border-radius);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            position: relative;
        }

        .header p {
            font-size: 1.2em;
            margin: 10px 0;
            position: relative;
        }

        .student-info {
            background: rgba(255,255,255,0.15);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .student-info p {
            margin: 5px 0;
            font-size: 1em;
        }

        .creator-name {
            font-size: 2em !important;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin: 10px 0 !important;
            padding: 5px 0;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            display: inline-block;
            letter-spacing: 1px;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            position: relative;
            padding: 0 20px;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            font-weight: 600;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .progress-step.active {
            background: var(--primary-color);
            color: white;
            transform: scale(1.1);
        }

        .progress-line {
            position: absolute;
            top: 20px;
            left: 40px;
            right: 40px;
            height: 3px;
            background: #e9ecef;
            z-index: 0;
        }

        .form-section {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.1);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .form-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .form-section h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-size: 1.4em;
            font-weight: 600;
        }

        .form-section.collapsed .section-content {
            display: none;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-color);
            font-weight: 500;
            font-size: 0.95em;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
            background: white;
        }

        .document-upload {
            border: 2px dashed #e9ecef;
            padding: 25px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .document-upload:hover {
            border-color: var(--primary-color);
            background: rgba(67, 97, 238, 0.05);
        }

        .btn {
            background: var(--primary-color);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }

        .otp-inputs {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }

        .otp-inputs input {
            width: 60px;
            height: 60px;
            text-align: center;
            font-size: 1.5em;
            font-weight: 600;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
        }

        .otp-inputs input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 8px;
            cursor: help;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 250px;
            background: var(--text-color);
            color: white;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(-5px);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .form-section {
                padding: 20px;
            }

            .otp-inputs input {
                width: 45px;
                height: 45px;
                font-size: 1.2em;
            }
        }

        /* Animation for form sections */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-section {
            animation: slideDown 0.5s ease forwards;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        .verification-code-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .verification-code-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary-color);
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 2px dashed var(--primary-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .verification-code-display:hover {
            background: var(--primary-color);
            color: white;
        }

        .verification-code-display.copied {
            background: var(--success-color);
            color: white;
            border-style: solid;
        }

        .document-details-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .document-select {
            background-color: white;
            border: 2px solid #e9ecef;
            padding: 12px;
            border-radius: 8px;
            font-size: 1em;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .document-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .photo-details-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .photo-specs {
            margin-bottom: 20px;
        }

        .photo-specs p {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .photo-specs ul {
            list-style-type: none;
            padding-left: 20px;
        }

        .photo-specs li {
            position: relative;
            padding: 5px 0;
            padding-left: 25px;
        }

        .photo-specs li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }

        .photo-availability {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-size: 0.95em;
        }

        .checkbox-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        @media (max-width: 768px) {
            .document-details-container {
                padding: 15px;
            }

            .photo-specs li {
                font-size: 0.9em;
            }
        }

        /* Success Modal Styles */
        .success-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .success-modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 600px;
            margin: auto;
            border-radius: var(--border-radius);
            padding: 30px;
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .success-modal.show .modal-content {
            transform: translateY(0);
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success-color);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: scaleIn 0.5s ease;
        }

        .success-icon svg {
            width: 40px;
            height: 40px;
            fill: white;
        }

        .success-title {
            text-align: center;
            color: var(--primary-color);
            font-size: 1.8em;
            margin-bottom: 20px;
            animation: slideDown 0.5s ease;
        }

        .success-message {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 30px;
            animation: slideUp 0.5s ease;
        }

        .submission-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
        }

        .submission-details h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .detail-item {
            display: flex;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .detail-label {
            width: 150px;
            font-weight: 500;
            color: var(--text-color);
        }

        .detail-value {
            flex: 1;
            color: #666;
        }

        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            animation: fadeIn 0.5s ease;
        }

        .modal-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .modal-btn.primary {
            background: var(--primary-color);
            color: white;
        }

        .modal-btn.secondary {
            background: #e9ecef;
            color: var(--text-color);
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        @keyframes scaleIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        @keyframes slideDown {
            from { 
                opacity: 0;
                transform: translateY(-20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                padding: 20px;
            }

            .detail-item {
                flex-direction: column;
            }

            .detail-label {
                width: 100%;
                margin-bottom: 5px;
            }

            .modal-buttons {
                flex-direction: column;
            }

            .modal-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Aadhaar Enrollment Form</h1>
            <p>Summer Holiday Homework Project</p>
            <div class="student-info">
                <p>Created by: <span class="creator-name">Kavish Tolani</span></p>
                <p>Class: 10E</p>
                <p>Subject: Computer Applications (CA)</p>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-line"></div>
            <div class="progress-step active">1</div>
            <div class="progress-step">2</div>
            <div class="progress-step">3</div>
            <div class="progress-step">4</div>
        </div>

        <form id="aadharForm" onsubmit="return validateForm(event)">
            <!-- Personal Information Section -->
            <div class="form-section" id="personalInfo">
                <h2 onclick="toggleSection(this)">
                    Personal Information
                    <span class="toggle-icon">▼</span>
                </h2>
                <div class="section-content">
                    <div class="form-group">
                        <label for="fullName">Full Name (as per birth certificate)</label>
                        <input type="text" id="fullName" name="fullName" required 
                               pattern="[A-Za-z\s]{2,50}" 
                               title="Please enter a valid name (2-50 characters, letters only)">
                        <div class="error-message">Please enter a valid name</div>
                    </div>

                    <div class="form-group">
                        <label for="dob">Date of Birth</label>
                        <input type="date" id="dob" name="dob" required>
                        <div class="error-message">Please enter a valid date of birth</div>
                    </div>

                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required>
                        <div class="error-message">Please enter a valid email address</div>
                    </div>

                    <div class="form-group">
                        <label for="mobile">Mobile Number</label>
                        <input type="tel" id="mobile" name="mobile" required 
                               pattern="[0-9]{10}" 
                               title="Please enter a valid 10-digit mobile number">
                        <div class="error-message">Please enter a valid 10-digit mobile number</div>
                    </div>
                </div>
            </div>

            <!-- Address Information Section -->
            <div class="form-section" id="addressInfo">
                <h2 onclick="toggleSection(this)">
                    Address Information
                    <span class="toggle-icon">▼</span>
                </h2>
                <div class="section-content">
                    <div class="form-group">
                        <label for="address">Current Address</label>
                        <textarea id="address" name="address" rows="3" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="state">State</label>
                        <select id="state" name="state" required>
                            <option value="">Select State</option>
                            <!-- Add all Indian states -->
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="district">District</label>
                        <select id="district" name="district" required>
                            <option value="">Select District</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="pincode">PIN Code</label>
                        <input type="text" id="pincode" name="pincode" required 
                               pattern="[0-9]{6}" 
                               title="Please enter a valid 6-digit PIN code">
                        <div class="error-message">Please enter a valid 6-digit PIN code</div>
                    </div>
                </div>
            </div>

            <!-- Document Details Section -->
            <div class="form-section" id="documents">
                <h2 onclick="toggleSection(this)">
                    Document Details
                    <span class="toggle-icon">▼</span>
                </h2>
                <div class="section-content">
                    <div class="form-group">
                        <label>Proof of Identity
                            <span class="tooltip">ℹ️
                                <span class="tooltip-text">Enter details of your government-issued ID proof</span>
                            </span>
                        </label>
                        <div class="document-details-container">
                            <select id="idProofType" name="idProofType" required class="document-select">
                                <option value="">Select ID Proof Type</option>
                                <option value="passport">Passport</option>
                                <option value="pan">PAN Card</option>
                                <option value="voter">Voter ID</option>
                                <option value="driving">Driving License</option>
                                <option value="school">School ID</option>
                            </select>
                            <input type="text" id="idProofNumber" name="idProofNumber" 
                                   placeholder="Enter Document Number" required
                                   pattern="[A-Za-z0-9]{5,20}"
                                   title="Please enter a valid document number">
                            <input type="date" id="idProofIssueDate" name="idProofIssueDate" 
                                   required title="Select document issue date">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Proof of Address
                            <span class="tooltip">ℹ️
                                <span class="tooltip-text">Enter details of your address proof document</span>
                            </span>
                        </label>
                        <div class="document-details-container">
                            <select id="addressProofType" name="addressProofType" required class="document-select">
                                <option value="">Select Address Proof Type</option>
                                <option value="aadhar">Aadhaar Card</option>
                                <option value="passport">Passport</option>
                                <option value="voter">Voter ID</option>
                                <option value="driving">Driving License</option>
                                <option value="utility">Utility Bill</option>
                                <option value="bank">Bank Statement</option>
                            </select>
                            <input type="text" id="addressProofNumber" name="addressProofNumber" 
                                   placeholder="Enter Document Number" required
                                   pattern="[A-Za-z0-9]{5,20}"
                                   title="Please enter a valid document number">
                            <input type="date" id="addressProofIssueDate" name="addressProofIssueDate" 
                                   required title="Select document issue date">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Photo Details
                            <span class="tooltip">ℹ️
                                <span class="tooltip-text">Enter details about your passport size photo</span>
                            </span>
                        </label>
                        <div class="photo-details-container">
                            <div class="photo-specs">
                                <p>Required Photo Specifications:</p>
                                <ul>
                                    <li>Size: 35mm x 45mm</li>
                                    <li>Background: White</li>
                                    <li>Format: Recent (not older than 6 months)</li>
                                </ul>
                            </div>
                            <div class="photo-availability">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="hasPhoto" name="hasPhoto" required>
                                    I confirm that I have a passport size photo meeting the above specifications
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Verification Section -->
            <div class="form-section" id="verification">
                <h2 onclick="toggleSection(this)">
                    Verification
                    <span class="toggle-icon">▼</span>
                </h2>
                <div class="section-content">
                    <div class="form-group">
                        <label>Verification Code</label>
                        <div class="verification-code-container">
                            <div class="verification-code-display" id="verificationCode">
                                Click to Generate Code
                            </div>
                            <button type="button" class="btn" onclick="generateVerificationCode()">Generate Code</button>
                        </div>
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="verificationInput">Enter Verification Code</label>
                            <input type="text" id="verificationInput" name="verificationInput" 
                                   placeholder="Enter the code shown above" required>
                            <div class="error-message">Please enter the correct verification code</div>
                        </div>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="terms" name="terms" required>
                        <label for="terms">I hereby declare that all the information provided is true and correct to the best of my knowledge.</label>
                    </div>
                </div>
            </div>

            <div class="form-navigation">
                <button type="button" class="btn" onclick="previousStep()">Previous</button>
                <button type="submit" class="btn">Submit Application</button>
            </div>
        </form>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="modal-content">
            <div class="success-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                </svg>
            </div>
            <h2 class="success-title">Application Submitted Successfully!</h2>
            <p class="success-message">Your Aadhaar enrollment application has been received. Please keep the following details for your records.</p>
            
            <div class="submission-details">
                <h3>Application Summary</h3>
                <div id="submissionDetails">
                    <!-- Details will be populated by JavaScript -->
                </div>
            </div>

            <div class="modal-buttons">
                <button class="modal-btn primary" onclick="printApplication()">Print Application</button>
                <button class="modal-btn secondary" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Toggle form sections
        function toggleSection(element) {
            const section = element.parentElement;
            section.classList.toggle('collapsed');
            const icon = element.querySelector('.toggle-icon');
            icon.textContent = section.classList.contains('collapsed') ? '▶' : '▼';
        }

        // OTP input handling
        const otpInputs = document.querySelectorAll('.otp-inputs input');
        otpInputs.forEach((input, index) => {
            input.addEventListener('keyup', (e) => {
                if (e.key >= 0 && e.key <= 9) {
                    if (index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    }
                } else if (e.key === 'Backspace') {
                    if (index > 0) {
                        otpInputs[index - 1].focus();
                    }
                }
            });
        });

        // Remove old OTP related code and add new verification code functionality
        function generateVerificationCode() {
            const code = Math.random().toString(36).substring(2, 8).toUpperCase();
            const display = document.getElementById('verificationCode');
            display.textContent = code;
            display.style.cursor = 'pointer';
            display.onclick = function() {
                navigator.clipboard.writeText(code).then(() => {
                    this.classList.add('copied');
                    this.textContent = 'Code Copied!';
                    setTimeout(() => {
                        this.classList.remove('copied');
                        this.textContent = code;
                    }, 2000);
                });
            };
        }

        // Update form validation to show success modal
        function validateForm(event) {
            event.preventDefault();
            const form = document.getElementById('aadharForm');
            const inputs = form.querySelectorAll('input, select, textarea');
            let isValid = true;

            // Get verification code
            const verificationCode = document.getElementById('verificationCode').textContent;
            const verificationInput = document.getElementById('verificationInput').value;

            // Check if verification code matches
            if (verificationCode !== 'Click to Generate Code' && verificationInput !== verificationCode) {
                isValid = false;
                document.getElementById('verificationInput').classList.add('error');
                document.querySelector('#verificationInput + .error-message').style.display = 'block';
            }

            // Document validation
            const idProofType = document.getElementById('idProofType').value;
            const idProofNumber = document.getElementById('idProofNumber').value;
            const addressProofType = document.getElementById('addressProofType').value;
            const addressProofNumber = document.getElementById('addressProofNumber').value;
            const hasPhoto = document.getElementById('hasPhoto').checked;

            if (!idProofType || !idProofNumber || !addressProofType || !addressProofNumber || !hasPhoto) {
                isValid = false;
                alert('Please fill in all document details correctly');
            }

            inputs.forEach(input => {
                if (input.hasAttribute('required') && !input.value) {
                    isValid = false;
                    input.classList.add('error');
                    const errorMessage = input.nextElementSibling;
                    if (errorMessage && errorMessage.classList.contains('error-message')) {
                        errorMessage.style.display = 'block';
                    }
                } else {
                    input.classList.remove('error');
                    const errorMessage = input.nextElementSibling;
                    if (errorMessage && errorMessage.classList.contains('error-message')) {
                        errorMessage.style.display = 'none';
                    }
                }
            });

            if (isValid) {
                showSuccessModal();
                return false;
            }

            return false;
        }

        // Function to show success modal with submission details
        function showSuccessModal() {
            const modal = document.getElementById('successModal');
            const detailsContainer = document.getElementById('submissionDetails');
            
            // Generate application number
            const applicationNumber = 'AAD' + Date.now().toString().slice(-8);
            
            // Get form data
            const formData = {
                'Application Number': applicationNumber,
                'Full Name': document.getElementById('fullName').value,
                'Date of Birth': document.getElementById('dob').value,
                'Gender': document.getElementById('gender').value,
                'Email': document.getElementById('email').value,
                'Mobile': document.getElementById('mobile').value,
                'Address': document.getElementById('address').value,
                'State': document.getElementById('state').value,
                'District': document.getElementById('district').value,
                'PIN Code': document.getElementById('pincode').value,
                'ID Proof': document.getElementById('idProofType').value,
                'Address Proof': document.getElementById('addressProofType').value,
                'Submission Date': new Date().toLocaleDateString()
            };

            // Clear previous details
            detailsContainer.innerHTML = '';

            // Add details to modal
            for (const [label, value] of Object.entries(formData)) {
                const detailItem = document.createElement('div');
                detailItem.className = 'detail-item';
                detailItem.innerHTML = `
                    <span class="detail-label">${label}:</span>
                    <span class="detail-value">${value}</span>
                `;
                detailsContainer.appendChild(detailItem);
            }

            // Show modal with animation
            modal.classList.add('show');
            
            // Reset form
            document.getElementById('aadharForm').reset();
            document.getElementById('verificationCode').textContent = 'Click to Generate Code';
            document.getElementById('verificationCode').style.cursor = 'default';
            document.getElementById('verificationCode').onclick = null;
        }

        // Function to close modal
        function closeModal() {
            const modal = document.getElementById('successModal');
            modal.classList.remove('show');
        }

        // Function to print application
        function printApplication() {
            const printContent = document.querySelector('.submission-details').innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = `
                <div style="padding: 20px;">
                    <h2 style="text-align: center; color: #4361ee;">Aadhaar Enrollment Application</h2>
                    <div style="margin-top: 20px;">
                        ${printContent}
                    </div>
                    <div style="margin-top: 30px; text-align: center; font-size: 0.8em; color: #666;">
                        <p>This is a computer-generated document and does not require a signature.</p>
                        <p>Generated on: ${new Date().toLocaleString()}</p>
                    </div>
                </div>
            `;
            
            window.print();
            document.body.innerHTML = originalContent;
            
            // Reattach event listeners
            document.getElementById('successModal').classList.add('show');
        }

        // Navigation functions
        let currentStep = 1;
        const totalSteps = 4;

        function updateProgress() {
            const steps = document.querySelectorAll('.progress-step');
            steps.forEach((step, index) => {
                if (index + 1 <= currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                currentStep++;
                updateProgress();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateProgress();
            }
        }

        // Initialize states dropdown
        const states = [
            "Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh",
            "Goa", "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand",
            "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur",
            "Meghalaya", "Mizoram", "Nagaland", "Odisha", "Punjab",
            "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura",
            "Uttar Pradesh", "Uttarakhand", "West Bengal"
        ];

        const stateSelect = document.getElementById('state');
        states.forEach(state => {
            const option = document.createElement('option');
            option.value = state.toLowerCase().replace(/\s+/g, '-');
            option.textContent = state;
            stateSelect.appendChild(option);
        });

        // Initialize form sections as collapsed
        document.querySelectorAll('.form-section').forEach(section => {
            section.classList.add('collapsed');
        });

        // State-District mapping
        const stateDistricts = {
            "andhra-pradesh": [
                "Anantapur", "Chittoor", "East Godavari", "Guntur", "Krishna", 
                "Kurnool", "Nellore", "Prakasam", "Srikakulam", "Visakhapatnam", 
                "Vizianagaram", "West Godavari", "YSR Kadapa"
            ],
            "arunachal-pradesh": [
                "Anjaw", "Changlang", "Dibang Valley", "East Kameng", "East Siang",
                "Kamle", "Kra Daadi", "Kurung Kumey", "Lepa Rada", "Lohit",
                "Longding", "Lower Dibang Valley", "Lower Siang", "Lower Subansiri",
                "Namsai", "Pakke Kessang", "Papum Pare", "Shi Yomi", "Siang",
                "Tawang", "Tirap", "Upper Siang", "Upper Subansiri", "West Kameng",
                "West Siang"
            ],
            "assam": [
                "Baksa", "Barpeta", "Biswanath", "Bongaigaon", "Cachar",
                "Charaideo", "Chirang", "Darrang", "Dhemaji", "Dhubri",
                "Dibrugarh", "Dima Hasao", "Goalpara", "Golaghat", "Hailakandi",
                "Hojai", "Jorhat", "Kamrup", "Kamrup Metropolitan", "Karbi Anglong",
                "Karimganj", "Kokrajhar", "Lakhimpur", "Majuli", "Morigaon",
                "Nagaon", "Nalbari", "Sivasagar", "Sonitpur", "South Salmara-Mankachar",
                "Tinsukia", "Udalguri", "West Karbi Anglong"
            ],
            "bihar": [
                "Araria", "Arwal", "Aurangabad", "Banka", "Begusarai",
                "Bhagalpur", "Bhojpur", "Buxar", "Darbhanga", "East Champaran",
                "Gaya", "Gopalganj", "Jamui", "Jehanabad", "Kaimur",
                "Katihar", "Khagaria", "Kishanganj", "Lakhisarai", "Madhepura",
                "Madhubani", "Munger", "Muzaffarpur", "Nalanda", "Nawada",
                "Patna", "Purnia", "Rohtas", "Saharsa", "Samastipur",
                "Saran", "Sheikhpura", "Sheohar", "Sitamarhi", "Siwan",
                "Supaul", "Vaishali", "West Champaran"
            ],
            "delhi": [
                "Central Delhi", "East Delhi", "New Delhi", "North Delhi",
                "North East Delhi", "North West Delhi", "Shahdara", "South Delhi",
                "South East Delhi", "South West Delhi", "West Delhi"
            ],
            "gujarat": [
                "Ahmedabad", "Amreli", "Anand", "Aravalli", "Banaskantha",
                "Bharuch", "Bhavnagar", "Botad", "Chhota Udaipur", "Dahod",
                "Dang", "Devbhoomi Dwarka", "Gandhinagar", "Gir Somnath", "Jamnagar",
                "Junagadh", "Kheda", "Kutch", "Mahisagar", "Mehsana",
                "Morbi", "Narmada", "Navsari", "Panchmahal", "Patan",
                "Porbandar", "Rajkot", "Sabarkantha", "Surat", "Surendranagar",
                "Tapi", "Vadodara", "Valsad"
            ],
            "haryana": [
                "Ambala", "Bhiwani", "Charkhi Dadri", "Faridabad", "Fatehabad",
                "Gurugram", "Hisar", "Jhajjar", "Jind", "Kaithal",
                "Karnal", "Kurukshetra", "Mahendragarh", "Nuh", "Palwal",
                "Panchkula", "Panipat", "Rewari", "Rohtak", "Sirsa",
                "Sonipat", "Yamunanagar"
            ],
            "karnataka": [
                "Bagalkot", "Ballari", "Belagavi", "Bengaluru Rural", "Bengaluru Urban",
                "Bidar", "Chamarajanagar", "Chikballapur", "Chikkamagaluru", "Chitradurga",
                "Dakshina Kannada", "Davanagere", "Dharwad", "Gadag", "Hassan",
                "Haveri", "Kalaburagi", "Kodagu", "Kolar", "Koppal",
                "Mandya", "Mysuru", "Raichur", "Ramanagara", "Shivamogga",
                "Tumakuru", "Udupi", "Uttara Kannada", "Vijayapura", "Yadgir"
            ],
            "maharashtra": [
                "Ahmednagar", "Akola", "Amravati", "Aurangabad", "Beed",
                "Bhandara", "Buldhana", "Chandrapur", "Dhule", "Gadchiroli",
                "Gondia", "Hingoli", "Jalgaon", "Jalna", "Kolhapur",
                "Latur", "Mumbai City", "Mumbai Suburban", "Nagpur", "Nanded",
                "Nandurbar", "Nashik", "Osmanabad", "Palghar", "Parbhani",
                "Pune", "Raigad", "Ratnagiri", "Sangli", "Satara",
                "Sindhudurg", "Solapur", "Thane", "Wardha", "Washim",
                "Yavatmal"
            ],
            "tamil-nadu": [
                "Ariyalur", "Chennai", "Coimbatore", "Cuddalore", "Dharmapuri",
                "Dindigul", "Erode", "Kanchipuram", "Kanyakumari", "Karur",
                "Krishnagiri", "Madurai", "Nagapattinam", "Namakkal", "Nilgiris",
                "Perambalur", "Pudukkottai", "Ramanathapuram", "Salem", "Sivaganga",
                "Thanjavur", "Theni", "Thoothukudi", "Tiruchirappalli", "Tirunelveli",
                "Tiruppur", "Tiruvallur", "Tiruvannamalai", "Tiruvarur", "Vellore",
                "Viluppuram", "Virudhunagar"
            ],
            "telangana": [
                "Adilabad", "Bhadradri Kothagudem", "Hyderabad", "Jagtial", "Jangaon",
                "Jayashankar Bhupalpally", "Jogulamba Gadwal", "Kamareddy", "Karimnagar", "Khammam",
                "Komaram Bheem Asifabad", "Mahabubabad", "Mahabubnagar", "Mancherial", "Medak",
                "Medchal-Malkajgiri", "Mulugu", "Nagarkurnool", "Nalgonda", "Narayanpet",
                "Nirmal", "Nizamabad", "Peddapalli", "Rajanna Sircilla", "Rangareddy",
                "Sangareddy", "Siddipet", "Suryapet", "Vikarabad", "Wanaparthy",
                "Warangal Rural", "Warangal Urban", "Yadadri Bhuvanagiri"
            ],
            "uttar-pradesh": [
                "Agra", "Aligarh", "Ambedkar Nagar", "Amethi", "Amroha",
                "Auraiya", "Azamgarh", "Baghpat", "Bahraich", "Ballia",
                "Balrampur", "Banda", "Barabanki", "Bareilly", "Basti",
                "Bhadohi", "Bijnor", "Budaun", "Bulandshahr", "Chandauli",
                "Chitrakoot", "Deoria", "Etah", "Etawah", "Ayodhya",
                "Farrukhabad", "Fatehpur", "Firozabad", "Gautam Buddha Nagar", "Ghaziabad",
                "Ghazipur", "Gonda", "Gorakhpur", "Hamirpur", "Hapur",
                "Hardoi", "Hathras", "Jalaun", "Jaunpur", "Jhansi",
                "Kannauj", "Kanpur Dehat", "Kanpur Nagar", "Kasganj", "Kaushambi",
                "Kushinagar", "Lakhimpur Kheri", "Lalitpur", "Lucknow", "Maharajganj",
                "Mahoba", "Mainpuri", "Mathura", "Mau", "Meerut",
                "Mirzapur", "Moradabad", "Muzaffarnagar", "Pilibhit", "Pratapgarh",
                "Prayagraj", "Rae Bareli", "Rampur", "Saharanpur", "Sambhal",
                "Sant Kabir Nagar", "Shahjahanpur", "Shamli", "Shravasti", "Siddharthnagar",
                "Sitapur", "Sonbhadra", "Sultanpur", "Unnao", "Varanasi"
            ]
        };

        // Function to update districts based on selected state
        function updateDistricts() {
            const stateSelect = document.getElementById('state');
            const districtSelect = document.getElementById('district');
            const selectedState = stateSelect.value;

            // Clear current districts
            districtSelect.innerHTML = '<option value="">Select District</option>';

            if (selectedState && stateDistricts[selectedState]) {
                // Add districts for selected state
                stateDistricts[selectedState].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.toLowerCase().replace(/\s+/g, '-');
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        // Add event listener to state select
        document.getElementById('state').addEventListener('change', updateDistricts);

        // Initialize districts for first state if any state is selected
        window.addEventListener('load', function() {
            const stateSelect = document.getElementById('state');
            if (stateSelect.value) {
                updateDistricts();
            }
        });
    </script>
</body>
</html> 